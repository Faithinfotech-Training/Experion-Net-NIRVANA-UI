<app-pharmacistnav></app-pharmacistnav>

<div class="header">
    <div class="form-control">
        <!--Search functionality-->
        <input type="text" class="form-control" placeholder="Search text here..."[(ngModel)]="filter" >
    </div>
    <!--
        [] --- property binding
        () --- event binding 
        ([])--- banana box for event and property --([ngModel])
    -->

</div>

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Medicine Bill Id</th>
                <th>Bill Date</th>
                <th>Patient Name</th>
                <th>Patient Id</th>
                <th>Doctor Id</th>
                <th>Medicine Details</th>
            </tr>
        </thead>

        <tbody>

            <tr *ngFor= "let emp of pharmacybillService.pharmacyBill |filter: filter | paginate :{ itemsPerPage: 4, currentPage: page}">
                <td>{{emp.PrescriptionId}}</td>
                <td>{{emp.Date | date:'dd-MMM-yyyy'}}</td>
                <td>{{emp.PatientName}}</td>
                <td>{{emp.PatientId}}</td>
                <td>{{emp.DoctorId}}</td>
                <div  *ngFor = "let str of emp.Medicine">

                    <td>
                        Medicine Name : {{str.MedicineName}}
                        <br>
                        Medicine Quantity : {{str.MedQty}}
                        <br>
                        Medicine Price : {{str.MedPrice}}
                        <br>
                        Total : {{str.Total}}
                    </td>
                </div>
                
                <td>
                    <button class="btn btn-sm btn-info" (click)="PrintBill(emp.PrescriptionId)"> Print Bill </button>
                    &nbsp;
                </td>
            </tr>
        </tbody>
    </table>
    <div class="footer">
        <!--Pageination footer-->
        <pagination-controls (pageChange) = "page = ($event)"></pagination-controls>
    </div>
